<head>
  {%- if site.amp -%}

    <script async custom-element="amp-install-serviceworker" src="https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js"></script>
    <script async custom-element="amp-user-notification" src="https://cdn.ampproject.org/v0/amp-user-notification-0.1.js"></script>

    {%- if jekyll.environment == "production" -%}
      <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js"></script>
      <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    {%- endif -%}

  {%- endif -%}

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,minimum-scale=1">

  {%- assign url = page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url -%}

  {%- if page.title -%}
    {%- assign title = page.title | escape | append: " - " | append: site.title | escape -%}
  {%- else -%}
    {%- assign title = site.title | escape | append: " - Web development journey." -%}
  {%- endif -%}

  {%- if page.excerpt -%}
    {%- assign description = page.excerpt | strip_html | strip_newlines | truncate: 160 -%}
  {%- else -%}
    {%- assign description = site.description -%}
  {%- endif -%}

  {%- if page.image -%}
    {%- assign image = page.image.url | prepend: site.baseurl | prepend: site.url -%}
  {%- else -%}
    {%- assign image = "{{ site.baseurl }}/assets/images/1.jpg" | prepend: site.baseurl | prepend: site.url -%}
  {%- endif -%}

  <!-- Primary Meta Tags -->
  <title>{{ title }}</title>
  <meta name="title" content="{{ title }}">
  <meta name="description" content="{{ description }}">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ url }}">
  <meta property="og:title" content="{{ title }}">
  <meta property="og:description" content="{{ description }}">
  <meta property="og:image" content="{{ image }}">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="{{ url }}">
  <meta property="twitter:title" content="{{ title }}">
  <meta property="twitter:description" content="{{ description }}">
  <meta property="twitter:image" content="{{ image }}">

  {%- if site.amp -%}
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.url }}">
  {%- else -%}
    <link rel="amphtml" href="{{ page.url | replace:'index.html','' | prepend: '/amp' | prepend: site.url }}">
  {%- endif -%}

  <link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="{{ "/feed.xml" | prepend: site.baseurl | prepend: site.url }}">

  <link rel="apple-touch-icon" sizes="180x180" href="{{ site.baseurl }}/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ site.baseurl }}/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ site.baseurl }}/favicon-16x16.png">
  <link rel="manifest" href="{{ site.baseurl }}/site.webmanifest">

  <script type="application/ld+json">
  {% include metadata.json %}
  </script>

  {%- unless site.amp -%}
    {%- if jekyll.environment == "production" -%}
      <script data-ad-client="ca-pub-1905036807193814" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    {%- endif -%}
  {%- endunless -%}

  <style amp-custom>
  {% capture include_to_scssify %}
    {% include styles.scss %}
  {% endcapture %}
  {{ include_to_scssify | scssify }}
  </style>

  {%- if site.amp -%}
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  {%- endif -%}
</head>
